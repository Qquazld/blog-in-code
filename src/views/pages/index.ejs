<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
  </head>
  <body>
    <div class="content-wrapper">
      <header><%- include('../partials/header'); %></header>
      <main class="main">
        <section class="index">
          <div class="index__layout">
            <!-- Colonne principale des posts -->
            <div class="index__posts">
              <% posts.forEach((post, index) => { %> <% if (index < 5) { %>
              <a href="/posts/<%= post.id %>" class="index__post--link">
                <article class="index__post">
                  <div class="index__post--image">
                    <% if (post.image) { %>
                    <img src="<%= post.image %>" alt="Image de l'article" />
                    <% } else { %>
                    <img
                      src="/uploads/default-image.jpg"
                      alt="Image par défaut"
                    />
                    <% } %>
                  </div>
                  <header class="index__post--header">
                    <h2 class="index__post--title"><%= post.title %></h2>
                    <p class="index__post--date">
                      <%= formatDate(post.date) %>
                    </p>
                  </header>
                </article>
              </a>
              <% } %> <% }) %>
            </div>

            <!-- Colonne latérale droite -->
            <aside class="sidebar">
              <h2 class="sidebar__title">Recent Posts:</h2>
              <ul class="sidebar__list">
                <% posts.forEach(post => { %>
                <li class="sidebar__item">
                  <a href="/posts/<%= post.id %>" class="sidebar__link">
                    <%= post.title %>
                  </a>
                </li>
                <% }) %>
              </ul>
            </aside>
          </div>
        </section>
      </main>
    </div>
    <footer><%- include('../partials/footer'); %></footer>
    <script src="/script.js"></script>
  </body>
</html>
